# 🗺️ ウェブベース マップ探索・捕獲ゲーム

PythonのFlaskフレームワークとSQLiteデータベースを使用して開発された、ブラウザで遊べるRPG風マップ探索・捕獲ゲームです。
プレイヤーはマップを探索し、モンスター（またはオブジェクト）を捕獲するためのアイテムを入手・使用しながら、経験値を獲得してレベルアップを目指します。

## ⚙️ 使用技術

| カテゴリ | 技術 | 詳細 |
| --- | --- | --- |
| **バックエンド** | Python | メイン言語 |
| | Flask | ウェブアプリケーションフレームワーク |
| | SQLAlchemy | ORM (Object Relational Mapper) |
| **データベース** | SQLite | データの永続化 (`game.db`) |
| **フロントエンド** | HTML / CSS / JS | ユーザーインターフェースとゲームロジック |
| | Bootstrap 5.3.3 | レスポンシブUI、モーダル、スタイル設定 |
| **API** | RESTful API | ゲーム状態更新、宝箱、捕獲処理のエンドポイント |

## 🎮 ゲームの主な特徴

### マップ探索とシンプルUI
* 地図画面と、インベントリ・ステータスを表示するメニューパネルを分離した見やすいインターフェース。
* 捕獲時のモーダルウィンドウなど、Bootstrapを活用したスムーズな操作感を提供します。

### 捕獲システム
* 捕獲対象のレベルとレアリティに応じた**捕獲成功率の計算ロジック**を実装。
* 以下の3種類のロープ（捕獲アイテム）を使い分けて捕獲に挑戦します：
  * 普通の縄
  * 銀の縄
  * 金の縄

### アイテム・宝箱システム
* ゲーム内には「金」「青」「赤」の3種類の宝箱が存在します。
* 宝箱を開けることで、各種ロープなどの冒険に役立つアイテムを獲得できます。

### プレイヤーの成長要素（RPG要素）
* **レベルと経験値（XP）システム**を実装。
* 捕獲などの行動を通じて経験値を獲得し、レベルアップすることでキャラクターが成長します。
* プレイヤーの状態（インベントリ、ステータス、図鑑情報）はSQLiteデータベースに自動保存されます。

## 📁 主要ファイル構造

```text
project-root/
├── app.py              # アプリケーションのエントリーポイント
├── game/               # Flaskアプリケーション本体
│   ├── __init__.py     # アプリケーションファクトリ、DB初期化、Blueprint登録
│   ├── models.py       # DBモデル (User, Inventory, DexEntry, Statsなど)
│   ├── utils.py        # ロジック (捕獲確率、戦利品決定、経験値計算など)
│   └── routes/         # APIエンドポイント (Blueprint)
│       ├── state.py    # ユーザー状態（レベル、XPなど）関連API
│       ├── chest.py    # 宝箱関連API
│       └── capture.py  # 捕獲関連API
├── templates/
│   └── index.html      # メイン画面のテンプレート
├── static/             # 静的ファイル（CSS, JS, 画像など）
└── tools/
    └── migrate_add_level_xp.py # DBマイグレーション用スクリプト
